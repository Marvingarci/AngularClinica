<mat-toolbar class="toolbar">
    <span>Clinica UNAH-TEC Danli</span>


    <button mat-icon-button [matMenuTriggerFor]="menu" 
    style="outline:none;  
          display:block;">
        <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
        <button mat-menu-item>
            <mat-icon >dialpad</mat-icon>
            <span>Añadir cita</span>
        </button>
        <button mat-menu-item disabled>
            <mat-icon > voicemail</mat-icon>
            <span>Historia clinica</span>
        </button>
        <button mat-menu-item>
            <mat-icon >notifications_off</mat-icon>
            <span>Ver citas</span>
        </button>
        <button mat-menu-item>
            <mat-icon >notifications_off</mat-icon>
            <span>Añadir historia subsiguiente</span>
        </button>
    </mat-menu> 
      
        
    
</mat-toolbar>



  <div class="container"> 
    <mat-card style="margin-bottom: 30px;">
      <div class="row">

        <div class="col-2">
          <img *ngIf="noImg==true" class="sinImg"/>
          <img *ngIf="noImg == false" class="img" src={{paciente.imagen}}/>
        </div>

            <div class="col">
                <mat-form-field class="example-full-width">
                    <input matInput value={{paciente.nombre_completo}} placeholder="Nombre"  [readonly]="readonly">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <input matInput value={{paciente.numero_telefono}} placeholder="Numero de Telefono" [readonly]="readonly">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <input matInput value="{{paciente.numero_cuenta}}" placeholder="Numero de cuenta"  [readonly]="readonly" >
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field class="example-full-width">
                    <input matInput value={{paciente.numero_identidad}} placeholder="Numero identidad" [readonly]="readonly">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <input matInput value={{paciente.carrera}} placeholder="Carrera" [readonly]="disable">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <input matInput value={{paciente.sexo}} placeholder="Sexo" [readonly]="readonly">
                </mat-form-field>
            </div>
        </div>  
    </mat-card>

    <mat-accordion class="example-headers-align">


        <mat-expansion-panel [expanded]="step===0" (opened)="setStep(0)" hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Datos Generales
              </mat-panel-title>
              <mat-panel-description>
                Visualiazar datos generales del paciente
                <!-- <mat-icon>account_circle</mat-icon> -->
              </mat-panel-description>
          </mat-expansion-panel-header>
        
          <div *ngIf="esAlumno === true">

            
            <form [formGroup]="formulario_datos_generales" >               
              <div class="row">
                <div class="col">
                  <mat-form-field class="example-full-width" >
                    <input matInput 
                    formControlName= "nombre_completo"  
                    placeholder="Nombre Completo" 
                    [readonly]="readonlyDatosGenerales"
                    >
                    
                    <mat-error *ngIf="nombre_completo.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="nombre_completo.hasError('pattern')">ingrese un apellido valido!</mat-error>
        
                  </mat-form-field>
                </div>
                
              </div>
        
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput
                      formControlName= "numero_cuenta" 
                      placeholder="N° Cuenta" 
                      [readonly]="readonlyDatosGenerales"
                      >
                    <!-- <mat-hint align="end">{{numero_cuenta.value.length}} / 11</mat-hint> -->
                    <mat-error *ngIf="numero_cuenta.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="numero_cuenta.hasError('pattern')">ingrese un numero de cuenta valido!</mat-error>
        
        
                    </mat-form-field>
                  </div>
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput
                      formControlName= "numero_identidad" 
                      placeholder="N° Identidad"
                      [readonly]="readonlyDatosGenerales" 
                      >
                    <!-- <mat-hint align="end">{{numero_identidad.value.length}} / 13</mat-hint> -->
                    <mat-error *ngIf="numero_identidad.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="numero_identidad.hasError('pattern')">ingrese un numero de indentidad valido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
                  
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "lugar_procedencia" 
                      name="lugar_procedencia" 
                      placeholder="Lugar de Procedencia"
                      [readonly]="readonlyDatosGenerales"
                      >                      
                    <mat-error *ngIf="lugar_procedencia.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="lugar_procedencia.hasError('pattern')">ingrese datos validos!</mat-error>
                    
        
                    </mat-form-field>
                  </div>
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "carrera" 
                      name="carrera" placeholder="Carrera" 
                      [readonly]="readonlyDatosGenerales"
                      >
                    <mat-error *ngIf="carrera.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="carrera.hasError('pattern')">ingrese datos validos!</mat-error>
        
        
                    </mat-form-field>
                  </div>
                </div>
          
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "direccion" 
                      name="direccion"
                      placeholder="Direccion"
                      [readonly]="readonlyDatosGenerales"
                      >                      

                    <mat-error *ngIf="direccion.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="direccion.hasError('maxlength')">campo muy extenso!</mat-error>
                    
        
                    </mat-form-field>
                  </div>
                  <div class="col">

                    <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                        <input matInput matInput
                        formControlName= "fecha_nacimiento"  
                        placeholder="Fecha nacimiento"
                        [readonly]="readonlyDatosGenerales"
                        >                                 
                        
                    </mat-form-field>

                    <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <input matInput [min]="minDate" [max]="maxDate"
                      [matDatepicker]="picker1"
                      formControlName= "fecha_nacimiento" placeholder="Fecha Nacimiento"
                      [readonly]="readonlyDatosGenerales"
                      >                      
                      
                      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                      <mat-datepicker #picker1></mat-datepicker>
                    <mat-error *ngIf="fecha_nacimiento.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>    
          
                  
                
                <div class="row">
                  <div class="col"> 

                      <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                          <input matInput matInput
                          formControlName= "sexo"  
                          placeholder="Sexo"
                          [readonly]="readonlyDatosGenerales"
                          >                                 
                          
                      </mat-form-field>
                    
                    <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Sexo</mat-label>
                        <mat-select formControlName= "sexo"
                        readonly="readonly"
                        >

                          <mat-option value="Hombre">Hombre</mat-option>
                          <mat-option value="Mujer">Mujer</mat-option>
                          
                      </mat-select>
                      <mat-error *ngIf="sexo.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
          
          
                  <div class="col"> 

                    <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                      <input matInput matInput
                      formControlName= "seguro_medico"  
                      placeholder="Seguro médico"
                      [readonly]="readonlyDatosGenerales"
                      >                                 
                      
                    </mat-form-field>

                    <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Seguro médico</mat-label>
                      <mat-select 
                      formControlName= "seguro_medico" 
                      readonly="readonly"
                      >

                        <mat-option *ngFor="let seguro_medico of seguros_medicos" [value]="seguro_medico.value">
                          {{seguro_medico.viewValue}}
                        </mat-option>
                      </mat-select>
                    <mat-error *ngIf="seguro_medico.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
          
                  

                  <div class="col"> 

                    <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                        <input matInput matInput
                        formControlName= "estado_civil"  
                        placeholder="Estado civil"
                        [readonly]="readonlyDatosGenerales"
                        >                                 
                      
                    </mat-form-field>

                    <mat-form-field  class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Estado civil</mat-label>
                      <mat-select 
                      formControlName= "estado_civil"
                      readonly="readonly"
                      >

                        <mat-option *ngFor="let estado_civil of estados_civiles" [value]="estado_civil.value">
                          {{estado_civil.viewValue}}
                        </mat-option>
                      </mat-select>
                    <mat-error *ngIf="estado_civil.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
          
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput matInput
                      formControlName= "numero_telefono"  
                      name="numero_telefono" 
                      id="telefono" 
                      placeholder="N° Telefono"
                      [readonly]="readonlyDatosGenerales"
                      >
                      
                      <mat-error *ngIf="numero_telefono.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="numero_telefono.hasError('pattern')">introduzca un numero de telefono valido!</mat-error>
        
                    
                    </mat-form-field>
                  </div>
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "emergencia_telefono" 
                      name="emergencia_telefono" 
                      placeholder="Telefono de emergencia"
                      [readonly]="readonlyDatosGenerales"
                      >
                      
                      <mat-error *ngIf="emergencia_telefono.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="emergencia_telefono.hasError('pattern')">introduzca un numero de telefono valido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  disabled={{formulario_datos_generales.invalid}}
                  (click)="readonlyDatosGenerales = !readonlyDatosGenerales; actualizar()">
                  {{!readonlyDatosGenerales ? 'Guardar' : 'Editar'}}
                </button>

            </form>
          </div>













          <div *ngIf="esAlumno === false"> 



            <form [formGroup]="formulario_datos_generales">
              <div class="row">
                <div class="col">
                  <mat-form-field class="example-full-width" >
                    <input matInput 
                    formControlName= "nombre_completo"  
                    placeholder="Nombre Completo" 
                    [readonly]="readonlyDatosGenerales"
                    >
                    
                    <mat-error *ngIf="nombre_completo.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="nombre_completo.hasError('pattern')">ingrese un apellido valido!</mat-error>
        
                  </mat-form-field>
                </div>
                  
              </div>
          
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "numero_identidad" 
                      placeholder="N° Identidad"  
                      [readonly]="readonlyDatosGenerales"
                      >
                    <!-- <mat-hint align="end">{{numero_identidad.value.length}} / 13</mat-hint> -->
                    <mat-error *ngIf="numero_identidad.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="numero_identidad.hasError('pattern')">ingrese un numero de indentidad valido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
                    
                <div class="row">

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "lugar_procedencia" 
                      name="lugar_procedencia" 
                      placeholder="Lugar de Procedencia"
                      [readonly]="readonlyDatosGenerales"
                      >
                    <mat-error *ngIf="lugar_procedencia.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="lugar_procedencia.hasError('pattern')">ingrese datos validos!</mat-error>
                    
        
                    </mat-form-field>
                  </div>

                  <div class="col"> 

                    <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                      <input matInput matInput
                      formControlName= "categoria"  
                      placeholder="Categoría"
                      [readonly]="readonlyDatosGenerales"
                      >                                 
                        
                    </mat-form-field>

                    <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Categoria Paciente</mat-label>
                        <mat-select 
                        formControlName= "categoria"
                        readonly="readonly"
                        >

                        <mat-option *ngFor="let categoria of categorias" [value]="categoria.value">
                            {{categoria.viewValue}}
                          </mat-option>
                      </mat-select>
                      <mat-error *ngIf="categoria.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
            
                <div class="row">

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "direccion" 
                      name="direccion"
                      placeholder="Direccion"
                      [readonly]="readonlyDatosGenerales"
                      >
                    <mat-error *ngIf="direccion.hasError('required')">campo requerido!</mat-error>
                    <mat-error *ngIf="direccion.hasError('maxlength')">campo muy extenso!</mat-error>
                    
        
                    </mat-form-field>
                  </div>

                  <div class="col">
                      <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                          <input matInput matInput
                          formControlName= "fecha_nacimiento"  
                          placeholder="Fecha nacimiento"
                          [readonly]="readonlyDatosGenerales"
                          >                                 
                          
                      </mat-form-field>
  
                      <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                        <input matInput [min]="minDate" [max]="maxDate"
                        [matDatepicker]="picker1"
                        formControlName= "fecha_nacimiento" placeholder="Fecha Nacimiento"
                        [readonly]="readonly"
                        >                      
                        
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                      <mat-error *ngIf="fecha_nacimiento.hasError('required')">campo requerido!</mat-error>
          
                      </mat-form-field>
                  </div>
                </div>    
              
                <div class="row">

                  <div class="col"> 
                      <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                          <input matInput matInput
                          formControlName= "sexo"  
                          placeholder="Sexo"
                          [readonly]="readonlyDatosGenerales"
                          >                                 
                          
                      </mat-form-field>
                    
                    <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Sexo</mat-label>
                        <mat-select formControlName= "sexo"
                        readonly="readonly"
                        >

                          <mat-option value="Hombre">Hombre</mat-option>
                          <mat-option value="Mujer">Mujer</mat-option>
                          
                      </mat-select>
                      <mat-error *ngIf="sexo.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>

                  <div class="col"> 
                    <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                      <input matInput matInput
                      formControlName= "seguro_medico"  
                      placeholder="Seguro médico"
                      [readonly]="readonlyDatosGenerales"
                      >                                 
                      
                    </mat-form-field>

                    <mat-form-field class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Seguro médico</mat-label>
                      <mat-select 
                      formControlName= "seguro_medico" 
                      readonly="readonly"
                      >

                        <mat-option *ngFor="let seguro_medico of seguros_medicos" [value]="seguro_medico.value">
                          {{seguro_medico.viewValue}}
                        </mat-option>
                      </mat-select>
                    <mat-error *ngIf="seguro_medico.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
            
                  <div class="col"> 
                    <mat-form-field class="example-full-width" *ngIf="readonlyDatosGenerales">
                        <input matInput matInput
                        formControlName= "estado_civil"  
                        placeholder="Estado civil"
                        [readonly]="readonlyDatosGenerales"
                        >                                 
                      
                    </mat-form-field>

                    <mat-form-field  class="example-full-width" *ngIf="!readonlyDatosGenerales">
                      <mat-label>Estado civil</mat-label>
                      <mat-select 
                      formControlName= "estado_civil"
                      readonly="readonly"
                      >

                        <mat-option *ngFor="let estado_civil of estados_civiles" [value]="estado_civil.value">
                          {{estado_civil.viewValue}}
                        </mat-option>
                      </mat-select>
                    <mat-error *ngIf="estado_civil.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
            
                <div class="row">

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "numero_telefono"  
                      name="numero_telefono" id="telefono" 
                      placeholder="N° Telefono"
                      [readonly]="readonlyDatosGenerales"
                      >
                      <mat-error *ngIf="numero_telefono.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="numero_telefono.hasError('pattern')">introduzca un numero de telefono valido!</mat-error>
        
                    
                    </mat-form-field>
                  </div>
                
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName= "emergencia_telefono" 
                      name="emergencia_telefono" 
                      placeholder="Telefono de emergencia"
                      [readonly]="readonlyDatosGenerales"
                      >
                      <mat-error *ngIf="emergencia_telefono.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="emergencia_telefono.hasError('pattern')">introduzca un numero de telefono valido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  disabled={{formulario_datos_generales.invalid}}
                  (click)="readonlyDatosGenerales = !readonlyDatosGenerales; actualizarDatosGenerales()">
                  {{!readonlyDatosGenerales ? 'Guardar' : 'Editar'}}
                </button>
              </form>


          </div>

          <mat-action-row>
          <button mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>

        







        
        <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
            <mat-expansion-panel-header>
            <mat-panel-title>
              Antecedentes familiares              
            </mat-panel-title>
            <mat-panel-description>
              Visualiazar Antecedentes familiares del paciente
                <!-- <mat-icon>map</mat-icon> -->
            </mat-panel-description>
            </mat-expansion-panel-header>


            <div *ngIf="readonlyAntecedentesFamiliares == true">
              <div>
                <table mat-table id="tabla1" [dataSource]="tablaAntecedentesFamiliares" class="mat-elevation-z8">

                  <!-- columna antecedente -->
                  <ng-container matColumnDef="antecedente">
                    <th mat-header-cell *matHeaderCellDef> Antecedente </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.antecedente}} </td>

                    <!-- este mat-footer siempre tiene que ir en cada columna -->
                    <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
                
                  <!-- columna valor -->
                  <ng-container matColumnDef="valor">
                    <th mat-header-cell *matHeaderCellDef> Valor </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.valor}} </td>
                    <td mat-footer-cell *matFooterCellDef></td>
                    
                    <!-- <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency}} </td> -->
  
                  </ng-container>

                  <!-- columna tipo -->
                  <ng-container matColumnDef="tipo">
                      <th mat-header-cell *matHeaderCellDef> Tipo </th>
                      <td mat-cell *matCellDef="let elemento"> {{elemento.tipo}}</td>
                      <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>

                  <!-- columna parentesco -->
                  <ng-container matColumnDef="parentesco">
                      <th mat-header-cell *matHeaderCellDef> Parentesco </th>
                      <td mat-cell *matCellDef="let elemento"> {{elemento.parentesco}}</td>
                      <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
  
                  <!-- columna observaccion -->
                  <ng-container matColumnDef="observacion">
                    <th mat-header-cell *matHeaderCellDef> Observación </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.observacion}}</td>
                    <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
                
                  <tr mat-header-row *matHeaderRowDef="columnasTablaAntecedentesFamiliares"></tr>
                  <tr mat-row *matRowDef="let row; columns: columnasTablaAntecedentesFamiliares;"></tr>
                  <tr mat-footer-row *matFooterRowDef="columnasTablaAntecedentesFamiliares"></tr>
                </table>
      
              
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  (click)="readonlyAntecedentesFamiliares = !readonlyAntecedentesFamiliares;">
                  {{!readonlyAntecedentesFamiliares ? 'Guardar' : 'Editar'}}
                </button> 
              </div>
            </div>

              
            


            <div *ngIf="readonlyAntecedentesFamiliares == false">

              <form [formGroup]="formulario_antecedentes_familiares">

                  <div>
                    <label id="example-radio-group-label">1. Diabetes</label>
                    <p><mat-radio-group formControlName= "diabetes"
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group" 
                      readonly="true">        
                        <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_diabetes])">Si</mat-radio-button> &nbsp;   
                        <mat-radio-button value="No" (click)="borrarInputs([parentesco_diabetes])">No</mat-radio-button>
                        <mat-error style="margin-inline-start: 5px;" *ngIf="diabetes.hasError('required')">campo requerido!</mat-error>
                      </mat-radio-group></p> 
                  </div>
                  <div> 
                    <mat-form-field>
                      <mat-label>Parentesco</mat-label>
                      <mat-select  formControlName= "parentesco_diabetes">
                        <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                          {{parentesco.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    
                  </div>
          
                  <mat-divider></mat-divider>
          
                  <div>
                    <label id="example-radio-group-label">2. Tuberculosis Pulmonar</label>
                    <p><mat-radio-group formControlName= "tb_pulmonar"
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                        <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_tb_pulmonar])">Si</mat-radio-button> &nbsp;   
                        <mat-radio-button value="No" (click)="borrarInputs([parentesco_tb_pulmonar])">No</mat-radio-button>
                        <mat-error style="margin-inline-start: 5px;" *ngIf="tb_pulmonar.hasError('required')">campo requerido!</mat-error>
                      </mat-radio-group></p>
          
                  </div>
                  <div> 
                    <mat-form-field>
                      <mat-label>Parentesco</mat-label>
                      <mat-select formControlName= "parentesco_tb_pulmonar">
                        <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                          {{parentesco.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
          
                  <mat-divider></mat-divider>
                  
                  <div> 
                    <label id="example-radio-group-label">3. Desnutrición</label>
                    <p><mat-radio-group formControlName= "desnutricion"
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_desnutricion, tipo_desnutricion])">Si</mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_desnutricion, tipo_desnutricion])">No</mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="desnutricion.hasError('required')">campo requerido!</mat-error>
                    </mat-radio-group></p>
                  </div>
                  <div class="row">
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Parentesco</mat-label>
                        <mat-select formControlName= "parentesco_desnutricion">
                          <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                            {{parentesco.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
          
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Tipo Desnutricion</mat-label>
                        <mat-select formControlName= "tipo_desnutricion">
                          <mat-option *ngFor="let desnutricion of desnutriciones" [value]="desnutricion.value">
                            {{desnutricion.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
          
                  <mat-divider></mat-divider>
          
                  <div>
                    <label id="example-radio-group-label">4. Enfermedades Mentales</label>
                    <p><mat-radio-group formControlName= "enfermedades_mentales" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">   
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_enfermedades_mentales, tipo_enfermedad_mental])">
                        Si
                      </mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_enfermedades_mentales, tipo_enfermedad_mental])">
                        No
                      </mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="enfermedades_mentales.hasError('required')">
                        campo requerido!
                      </mat-error>
                    </mat-radio-group></p>
                  </div>
                  <div class="row">

                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Parentesco</mat-label>
                        <mat-select formControlName= "parentesco_enfermedades_mentales" name="observacion_enfermedades_mentales">
                          <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                            {{parentesco.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
          
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Tipo Enfermedad Mental</mat-label>
                        <mat-select formControlName= "tipo_enfermedad_mental" name="enfermedad_mental">
                          <mat-option *ngFor="let enfermedad_mental of enfermedades_mentaless" [value]="enfermedad_mental.value">
                            {{enfermedad_mental.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
          
                  <mat-divider></mat-divider>
          
                  <div>
                    <label id="example-radio-group-label">5. Convulsiones</label>
                    <p><mat-radio-group formControlName= "convulsiones" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group"
                      >        
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_convulsiones])">Si</mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_convulsiones])">No</mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="convulsiones.hasError('required')">campo requerido!</mat-error>
                    </mat-radio-group></p>
                  </div>
                  <div> 
                    <mat-form-field>
                      <mat-label>Parentesco</mat-label>
                      <mat-select formControlName= "parentesco_convulsiones" >
                        <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                          {{parentesco.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
          
                  <mat-divider></mat-divider>
          
                  <div>
                    <label id="example-radio-group-label">6. Alcoholismo o Sustancias Psicoactivas</label>
                    <p><mat-radio-group formControlName= "alcoholismo_sustancias_psicoactivas" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_alcoholismo_sustancias_psicoactivas])">Si</mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_alcoholismo_sustancias_psicoactivas])">No</mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="alcoholismo_sustancias_psicoactivas.hasError('required')">campo requerido!</mat-error>         
                    </mat-radio-group></p>
          
                  </div>
                  <div> 
                    <mat-form-field>
                      <mat-label>Parentesco</mat-label>
                      <mat-select formControlName= "parentesco_alcoholismo_sustancias_psicoactivas">
                        <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                          {{parentesco.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
          
                  <mat-divider></mat-divider>
          
          
                  <div>
                    <label id="example-radio-group-label">7. Alergias</label>
                    <p><mat-radio-group formControlName= "alergias" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_alergias, tipo_alergia])" >Si</mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_alergias, tipo_alergia])">No</mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="alergias.hasError('required')">campo requerido!</mat-error>      
                    </mat-radio-group></p>
                  </div>
                  <div class="row">
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Parentesco</mat-label>
                        <mat-select formControlName= "parentesco_alergias">
                          <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                            {{parentesco.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
          
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Tipo Alergia</mat-label>
                        <mat-select formControlName= "tipo_alergia">
                          <mat-option *ngFor="let alergia of tipos_alergias" [value]="alergia.value" >
                            {{alergia.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
          
                  <mat-divider></mat-divider>
          
                  <div>
                    <label id="example-radio-group-label">8. Cáncer</label>
                    <p><mat-radio-group formControlName= "cancer" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_cancer, tipo_cancer])">Si</mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_cancer,tipo_cancer])">No</mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="cancer.hasError('required')">campo requerido!</mat-error>        
                    </mat-radio-group></p>
                  </div>
                  <div class="row">
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Parentesco</mat-label>
                        <mat-select formControlName= "parentesco_cancer">
                          <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                            {{parentesco.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
          
                    <div class="col-md-3"> 
                      <mat-form-field>
                        <mat-label>Tipo cáncer</mat-label>
                        <mat-select formControlName= "tipo_cancer">
                          <mat-option *ngFor="let cancer of canceres" [value]="cancer.value">
                            {{cancer.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  
                  <mat-divider></mat-divider>
          
                  <div>
                    <label id="example-radio-group-label">9. Hipertensión arterial</label>
                    <p><mat-radio-group formControlName= "hipertension_arterial" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                      <mat-radio-button value="Si" (click)="habilitarInputs([parentesco_hipertension_arterial])">Si</mat-radio-button> &nbsp;   
                      <mat-radio-button value="No" (click)="borrarInputs([parentesco_hipertension_arterial])">No</mat-radio-button>
                      <mat-error style="margin-inline-start: 5px;" *ngIf="hipertension_arterial.hasError('required')">campo requerido!</mat-error>
                    </mat-radio-group></p>
                  </div>
                  <div> 
                    <mat-form-field>
                      <mat-label>Parentesco</mat-label>
                      <mat-select formControlName= "parentesco_hipertension_arterial">
                        <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                          {{parentesco.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
          
                  <mat-divider></mat-divider>
          
                  <div class="row">
                    <div class="col-md-3">
                      <mat-form-field>
                        <input matInput formControlName= "otros" placeholder="Otros">
                        <mat-error *ngIf="otros.hasError('maxlength')">campo muy extenso!</mat-error>
                        <mat-error *ngIf="otros.hasError('minlength')">introduzca una observación valida!</mat-error>
          
                      </mat-form-field>
                    </div>
          
                    <div class="col-md-3">
                      <mat-form-field>
                        <mat-label>Parentesco</mat-label>
                        <mat-select formControlName= "parentesco_otros" name="observacion_otros">
                          <mat-option *ngFor="let parentesco of parentescos" [value]="parentesco.value">
                            {{parentesco.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <button mat-raised-button
                    class="btn btn-outline-primary float-right botonperron"
                    style="margin-top: 10px;"
                    disabled={{formulario_antecedentes_familiares.invalid}}
                    (click)="readonlyAntecedentesFamiliares = !readonlyAntecedentesFamiliares; actualizarAntecedentesFamiliares()">
                    {{!readonlyAntecedentesFamiliares ? 'Guardar' : 'Editar'}}
                  </button>
              </form>
            </div>


        
            <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
        </mat-expansion-panel>









        
        <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
            <mat-expansion-panel-header>
            <mat-panel-title>
                Antecedentes personales
            </mat-panel-title>
            <mat-panel-description>
                Visualiazar Antecedentes personales del paciente
                <!-- <mat-icon>date_range</mat-icon> -->
            </mat-panel-description>
            </mat-expansion-panel-header>
        

            <!-- si no se esta editando se mostrara este div -->
            <div *ngIf="readonlyAntecedentesPersonales == true">
              <div>
                <table mat-table id="tabla2" [dataSource]="tablaAntecedentesPersonales" class="mat-elevation-z8">

                  <!-- columna antecedente -->
                  <ng-container matColumnDef="antecedente">
                    <th mat-header-cell *matHeaderCellDef> Antecedente </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.antecedente}} </td>

                    <!-- este mat-footer siempre tiene que ir en cada columna -->
                    <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
                
                  <!-- columna valor -->
                  <ng-container matColumnDef="valor">
                    <th mat-header-cell *matHeaderCellDef> Valor </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.valor}} </td>
                    <td mat-footer-cell *matFooterCellDef></td>  
                  </ng-container>

                  <!-- columna tipo -->
                  <ng-container matColumnDef="tipo">
                      <th mat-header-cell *matHeaderCellDef> Tipo </th>
                      <td mat-cell *matCellDef="let elemento"> {{elemento.tipo}}</td>
                      <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>

                  <!-- columna parentesco -->
                  <!-- <ng-container matColumnDef="parentesco">
                      <th mat-header-cell *matHeaderCellDef> Parentesco </th>
                      <td mat-cell *matCellDef="let elemento"> {{elemento.parentesco}}</td>
                      <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container> -->
  
                  <!-- columna observaccion -->
                  <ng-container matColumnDef="observacion">
                    <th mat-header-cell *matHeaderCellDef> Observación </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.observacion}}</td>
                    <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
                
                  <tr mat-header-row *matHeaderRowDef="columnasTablaAntecedentesPersonales"></tr>
                  <tr mat-row *matRowDef="let row; columns: columnasTablaAntecedentesPersonales;"></tr>
                  <tr mat-footer-row *matFooterRowDef="columnasTablaAntecedentesPersonales"></tr>
                </table>
      
              
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  (click)="readonlyAntecedentesPersonales = !readonlyAntecedentesPersonales">
                  {{!readonlyAntecedentesPersonales ? 'Guardar' : 'Editar'}}
                </button> 
              </div>
            </div>

            <!-- si se esta editando se mostrara este div -->
            <div *ngIf="readonlyAntecedentesPersonales == false">
              <form [formGroup]="formulario_antecedentes_personales">
                        <label id="example-radio-group-label">1. Diabetes</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="diabetes_ap.hasError('required')">campo requerido!</mat-error>
                <div class="row">
                  <mat-radio-group  formControlName="diabetes"  aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_diabetes])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_diabetes])">No</mat-radio-button>
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                <textarea matInput  formControlName="observacion_diabetes"
                placeholder="Detallar inicio de enfermedad y tratamiento" >
              </textarea>
                <mat-error style="margin-inline-start: 5px;"  *ngIf="observacion_diabetes.hasError('maxlength')">campo muy extenso!</mat-error>
                <mat-error style="margin-inline-start: 5px;"  *ngIf="observacion_diabetes.hasError('minlength')">introduzca una observación valida!</mat-error>
              </mat-form-field>
              </div>
              
              <mat-divider></mat-divider>

              <label id="example-radio-group-label">2. Tuberculosis Pulmonar</label>
                <mat-error style="margin-inline-start: 5px;" *ngIf="tb_pulmonar_ap.hasError('required')">campo requerido!</mat-error>
              <div class="row">
                <mat-radio-group formControlName="tb_pulmonar" aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_tb_pulmonar_ap])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_tb_pulmonar_ap])">No</mat-radio-button>
                </mat-radio-group>
                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_tb_pulmonar"
                    placeholder="Detallar inicio de enfermedad y tratamiento">
                  </textarea>
                    <mat-error *ngIf="observacion_tb_pulmonar_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                    <mat-error *ngIf="observacion_tb_pulmonar_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
                </div>

              <mat-divider></mat-divider>

                  
              <label id="example-radio-group-label">3. ITS/VIH</label>
                <mat-error style="margin-inline-start: 5px;" *ngIf="its.hasError('required')">campo requerido!</mat-error>
              <div class="row">  
                <mat-radio-group formControlName="its" aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_its])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_its])">No</mat-radio-button>
                </mat-radio-group>
                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_its"
                    placeholder="Detallar inicio de enfermedad y tratamiento" >
                  </textarea>
                    <mat-error *ngIf="observacion_its.hasError('maxlength')">campo muy extenso!</mat-error>
                    <mat-error *ngIf="observacion_its.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
              </div>

              <mat-divider></mat-divider>
              
              
              <label id="example-radio-group-label">4. Desnutrición</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="desnutricion_ap.hasError('required')">campo requerido!</mat-error>
              <div class="row">
                <mat-radio-group formControlName="desnutricion"  aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([tipo_desnutricion_ap, observacion_desnutricion_ap])">
                    Si
                  </mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([tipo_desnutricion_ap, observacion_desnutricion_ap])">
                    No
                  </mat-radio-button>
                </mat-radio-group>
                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field>
                  <mat-label>Tipo Desnutrición</mat-label>
                  <mat-select formControlName="tipo_desnutricion">
                    <mat-option *ngFor="let desnutricion of desnutriciones" [value]="desnutricion.value" >
                      {{desnutricion.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                &nbsp; &nbsp; &nbsp; &nbsp; 
              <mat-form-field class="medium-width">

              <textarea matInput formControlName="observacion_desnutricion"
                placeholder="Detallar inicio de enfermedad y tratamiento" >
              </textarea>
                <mat-error *ngIf="observacion_desnutricion_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                <mat-error *ngIf="observacion_desnutricion_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
            </mat-form-field>
            </div>

              <mat-divider></mat-divider>

              
                <label id="example-radio-group-label">5. Enfermedades Mentales</label>
                    <mat-error style="margin-inline-start: 5px;" *ngIf="enfermedades_mentales_ap.hasError('required')">campo requerido!</mat-error>
              <div class="row">
                <mat-radio-group 
                formControlName="enfermedades_mentales" 
                aria-labelledby="example-radio-group-label" 
                class="example-radio-group">        
                    <mat-radio-button value="Si" (click)="habilitarInputs([tipo_enfermedad_mental_ap, observacion_enfermedades_mentales_ap])">
                      Si
                    </mat-radio-button> &nbsp;   
                    <mat-radio-button value="No" (click)="borrarInputs([tipo_enfermedad_mental_ap, observacion_enfermedades_mentales_ap])">
                      No
                    </mat-radio-button>
                  </mat-radio-group>

                  &nbsp; &nbsp; &nbsp; &nbsp; 

                  <mat-form-field>
                    <mat-label>Tipo Enfermedad Mental</mat-label>
                    <mat-select formControlName="tipo_enfermedad_mental">
                      <mat-option *ngFor="let enfermedad_mental of enfermedades_mentaless" [value]="enfermedad_mental.value">
                        {{enfermedad_mental.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  &nbsp; &nbsp; &nbsp; &nbsp; 
                <mat-form-field class="medium-width">

              <textarea matInput formControlName="observacion_enfermedades_mentales"
              placeholder="Detallar inicio de enfermedad y tratamiento" >
              </textarea>
                <mat-error *ngIf="observacion_enfermedades_mentales_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                <mat-error *ngIf="observacion_enfermedades_mentales_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
              </mat-form-field>
              </div>        

              <mat-divider></mat-divider>

                      
              <label id="example-radio-group-label">6. Convulsiones</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="convulsiones_ap.hasError('required')">campo requerido!</mat-error>
              <div class="row">  
                <mat-radio-group formControlName="convulsiones" aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_convulsiones_ap])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_convulsiones_ap])">No</mat-radio-button>
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_convulsiones" placeholder="Detallar" 
                  style="resize: none;overflow-y: hidden;" rows="1"></textarea>
                  <mat-error *ngIf="observacion_convulsiones_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_convulsiones_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
              </div>

              <mat-divider></mat-divider>

                        
              <label id="example-radio-group-label">7. Alergias</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="alergias_ap.hasError('required')">campo requerido!</mat-error>   
              <div class="row">
                <mat-radio-group 
                formControlName="alergias" 
                aria-labelledby="example-radio-group-label" 
                class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([tipo_alergia_ap, observacion_alergias_ap])">
                    Si
                  </mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([tipo_alergia_ap, observacion_alergias_ap])">
                    No
                  </mat-radio-button>         
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field>
                  <mat-label>Tipo Alergia</mat-label>
                  <mat-select formControlName="tipo_alergia" name="tipo_alergia">
                    <mat-option *ngFor="let alergia of tipos_alergias" [value]="alergia.value">
                      {{alergia.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_alergias"
                  placeholder="Detallar inicio de enfermedad y tratamiento">
                  </textarea>
                  <mat-error *ngIf="observacion_alergias_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_alergias_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
            </div>

            <mat-divider></mat-divider>

            
              <label id="example-radio-group-label">8. Cáncer</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="cancer_ap.hasError('required')">campo requerido!</mat-error>
              <div class="row">
                <mat-radio-group formControlName="cancer" aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([tipo_cancer_ap, observacion_cancer_ap])">
                    Si
                  </mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([tipo_cancer_ap, observacion_cancer_ap])" >
                    No
                  </mat-radio-button>
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field>
                  <mat-label>Tipo cáncer</mat-label>
                  <mat-select formControlName="tipo_cancer" name="tipo_cancer">
                    <mat-option *ngFor="let cancer of canceres" [value]="cancer.value">
                      {{cancer.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                &nbsp; &nbsp; &nbsp; &nbsp; 

              <mat-form-field class="medium-width">
                <textarea matInput formControlName="observacion_cancer"
                  placeholder="Detallar inicio de enfermedad y tratamiento">
                </textarea>
                  <mat-error *ngIf="observacion_cancer_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_cancer_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
              </mat-form-field>
            </div>

            
            <mat-divider></mat-divider>


           
            <label id="example-radio-group-label">9. Hospitalarias y Quirurgicas</label>
                <mat-error style="margin-inline-start: 5px;" *ngIf="hospitalarias_quirurgicas.hasError('required')">campo requerido!</mat-error>
            <div class="row">
              <mat-radio-group formControlName="hospitalarias_quirurgicas"
              aria-labelledby="example-radio-group-label"
              class="example-radio-group">        
                <mat-radio-button value="Si" (click)="habilitarInputs([tiempo_hospitalizacion, diagnostico, fecha_antecedente_hospitalario, tratamiento])">
                  Si
                </mat-radio-button> &nbsp;   
                <mat-radio-button value="No" (click)="borrarInputs([tiempo_hospitalizacion, diagnostico, fecha_antecedente_hospitalario, tratamiento])">
                  No
                </mat-radio-button>
              </mat-radio-group>
            </div>

              
              <div class="row">
                <div class="col">
                  <mat-form-field class="example-full-width">
                    <input matInput 
                    formControlName="fecha_antecedente_hospitalario" 
                    [min]="minDate" 
                    [max]="maxDate" 
                    [matDatepicker]="picker2" 
                    placeholder="Fecha">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2 ></mat-datepicker>
                  </mat-form-field>            
                </div>

                <div class="col">
                  <mat-form-field class="example-full-width">
                    <input matInput formControlName="tiempo_hospitalizacion" placeholder="Tiempo Hospitalización">
                    <mat-error *ngIf="tiempo_hospitalizacion.hasError('maxlength')">campo muy extenso!</mat-error>
                    <mat-error *ngIf="tiempo_hospitalizacion.hasError('minlength')">introduzca una observación valida!</mat-error>
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col">
                    <mat-form-field class="example-full-width">
                      <textarea matInput formControlName="diagnostico"  
                      placeholder="Diagnóstico">
                      </textarea>
                      <mat-error *ngIf="diagnostico.hasError('maxlength')">campo muy extenso!</mat-error>
                      <mat-error *ngIf="diagnostico.hasError('minlength')">introduzca una observación valida!</mat-error>
                    </mat-form-field>
                </div>

                <div class="col">
                    <mat-form-field class="example-full-width">
                      <textarea matInput formControlName="tratamiento" 
                      placeholder="Tratamiento">
                      </textarea>
                      <mat-error *ngIf="tratamiento.hasError('maxlength')">campo muy extenso!</mat-error>
                      <mat-error *ngIf="tratamiento.hasError('minlength')">introduzca una observación valida!</mat-error>
                    </mat-form-field>
                </div>
              </div>

              <mat-divider></mat-divider>

              
              <label id="example-radio-group-label">10. Traumáticos</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="traumaticos.hasError('required')">campo requerido!</mat-error>
              <div class="row">
                <mat-radio-group formControlName="traumaticos" aria-labelledby="example-radio-group-label" class="example-radio-group">        
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_traumaticos])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_traumaticos])">No</mat-radio-button>
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_traumaticos"
                  placeholder="Detallar inicio de enfermedad y tratamiento">
                  </textarea>
                  <mat-error *ngIf="observacion_traumaticos.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_traumaticos.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
              </div>

              <mat-divider></mat-divider>

              
              <div class="row">
                <mat-form-field>
                  <input matInput formControlName="otros" name="otros" id="input_otros" placeholder="11. Otros">
                  <mat-error *ngIf="otros_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="otros_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
                &nbsp; &nbsp; &nbsp; &nbsp; 
                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_otros" placeholder="Observacion"></textarea>
                  <mat-error *ngIf="observacion_otros_ap.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_otros_ap.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
              </div>

              <button mat-raised-button
                class="btn btn-outline-primary float-right botonperron"
                style="margin-top: 10px;"
                disabled={{formulario_antecedentes_personales.invalid}}
                (click)="readonlyAntecedentesPersonales = !readonlyAntecedentesPersonales; actualizarAntecedentesPersonales()">
                {{!readonlyAntecedentesPersonales ? 'Guardar' : 'Editar'}}
              </button> 
            </form>
          </div>

          <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>














        <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" hideToggle>
            <mat-expansion-panel-header>
            <mat-panel-title>
                Habitos Toxicologicos Personales
            </mat-panel-title>
            <mat-panel-description>
                Visualiazar Habitos Toxicologicos Personales del paciente
                <!-- <mat-icon>date_range</mat-icon> -->
            </mat-panel-description>
            </mat-expansion-panel-header>

            <div *ngIf="readonlyHabitosToxicologicos == true">
              <div>
                <table mat-table id="tabla3" [dataSource]="tablaHabitosToxicologicos" class="mat-elevation-z8">

                  <!-- columna antecedente -->
                  <ng-container matColumnDef="habito_toxicologico">
                    <th mat-header-cell *matHeaderCellDef> Habito Toxicologico </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.antecedente}} </td>

                    <!-- este mat-footer siempre tiene que ir en cada columna -->
                    <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
                 
                  <!-- columna valor -->
                  <ng-container matColumnDef="valor">
                    <th mat-header-cell *matHeaderCellDef> Valor </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.valor}} </td>
                    <td mat-footer-cell *matFooterCellDef></td>
                    
                    <!-- <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency}} </td> -->
  
                  </ng-container>

                  <!-- columna tipo -->
                  <!-- <ng-container matColumnDef="tipo">
                      <th mat-header-cell *matHeaderCellDef> Tipo </th>
                      <td mat-cell *matCellDef="let elemento"> {{elemento.tipo}}</td>
                      <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container> -->

                  <!-- columna parentesco -->
                  <!-- <ng-container matColumnDef="parentesco">
                      <th mat-header-cell *matHeaderCellDef> Parentesco </th>
                      <td mat-cell *matCellDef="let elemento"> {{elemento.parentesco}}</td>
                      <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container> -->
  
                  <!-- columna observaccion -->
                  <ng-container matColumnDef="observacion">
                    <th mat-header-cell *matHeaderCellDef> Observación </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento.observacion}}</td>
                    <td mat-footer-cell *matFooterCellDef></td>
                  </ng-container>
                
                  <tr mat-header-row *matHeaderRowDef="columnastablaHabitosToxicologicos"></tr>
                  <tr mat-row *matRowDef="let row; columns: columnastablaHabitosToxicologicos;"></tr>
                  <tr mat-footer-row *matFooterRowDef="columnastablaHabitosToxicologicos"></tr>
                </table>
      
              
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  (click)="readonlyHabitosToxicologicos = !readonlyHabitosToxicologicos">
                  {{!readonlyHabitosToxicologicos ? 'Guardar' : 'Editar'}}
                </button> 
              </div>
            </div>

            <div *ngIf="readonlyHabitosToxicologicos == false">
              <form [formGroup]="formulario_habito_toxicologico_personal">
                  <label id="example-radio-group-label">1. Alcohol</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="alcohol.hasError('required')">campo requerido!</mat-error>
               <div class="row"> 
                  <mat-radio-group formControlName="alcohol"  aria-labelledby="example-radio-group-label" class="example-radio-group">
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_alcohol])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)= "borrarInputs([observacion_alcohol])">No</mat-radio-button>
               </mat-radio-group>

               &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field  class="medium-width">
                  <textarea matInput 
                  formControlName="observacion_alcohol" 
                  placeholder="Detallar tiempo de uso y frecuencia">  
                  </textarea>
                  <mat-error *ngIf="observacion_alcohol.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_alcohol.hasError('minlength')">introduzca una observación valida!</mat-error>
              </mat-form-field>
              </div>
        
              <mat-divider></mat-divider>
        
              
                <label id="example-radio-group-label">2. Tabaquismo</label>
                  <mat-error style="margin-inline-start: 5px;" *ngIf="tabaquismo.hasError('required')"> campo requerido!</mat-error>
               <div class="row"> 
                 <mat-radio-group formControlName="tabaquismo" aria-labelledby="example-radio-group-label" class="example-radio-group">
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_tabaquismo])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_tabaquismo])">No</mat-radio-button>
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

              <mat-form-field class="medium-width">
                <textarea matInput 
                formControlName="observacion_tabaquismo"  
                placeholder="Detallar tiempo de uso y frecuencia">
                </textarea>
                <mat-error *ngIf="observacion_tabaquismo.hasError('maxlength')">campo muy extenso!</mat-error>
                <mat-error *ngIf="observacion_tabaquismo.hasError('minlength')">introduzca una observación valida!</mat-error>
              </mat-form-field>
              </div>
        
              <mat-divider></mat-divider>
        
              
              <label id="example-radio-group-label">3. Marihuana</label>
                <mat-error style="margin-inline-start: 5px;" *ngIf="marihuana.hasError('required')">campo requerido!</mat-error>
              <div class="row"> 
                <mat-radio-group formControlName="marihuana" aria-labelledby="example-radio-group-label" class="example-radio-group" >
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_marihuana])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_marihuana])">No</mat-radio-button>
                </mat-radio-group>
                &nbsp; &nbsp; &nbsp; &nbsp; 
                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_marihuana" 
                  placeholder="Detallar tiempo de uso y frecuencia">
                  </textarea>
                  <mat-error *ngIf="observacion_marihuana.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_marihuana.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
              </div>
        
              <mat-divider></mat-divider>
              
              
              <label id="example-radio-group-label">4. Cocaina</label>
                <mat-error style="margin-inline-start: 5px;" *ngIf="cocaina.hasError('required')">campo requerido!</mat-error>
              <div class="row">
                <mat-radio-group formControlName="cocaina" aria-labelledby="example-radio-group-label" class="example-radio-group" >
                  <mat-radio-button value="Si" (click)="habilitarInputs([observacion_cocaina])">Si</mat-radio-button> &nbsp;   
                  <mat-radio-button value="No" (click)="borrarInputs([observacion_cocaina])">No</mat-radio-button>
                </mat-radio-group>

                &nbsp; &nbsp; &nbsp; &nbsp; 

                <mat-form-field class="medium-width">
                  <textarea matInput formControlName="observacion_cocaina"  
                  placeholder="Detallar inicio de enfermedad y tratamiento">
                  </textarea>
                  <mat-error *ngIf="observacion_cocaina.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="observacion_cocaina.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
            </div>
        
              <mat-divider></mat-divider>
      
              <div class="row">
                <mat-form-field>
                  <input matInput formControlName="otros" placeholder="5. Otros">
                  <mat-error *ngIf="otros_ht.hasError('maxlength')">campo muy extenso!</mat-error>
                  <mat-error *ngIf="otros_ht.hasError('minlength')">introduzca una observación valida!</mat-error>
                </mat-form-field>
                &nbsp; &nbsp; &nbsp; &nbsp; 
              <mat-form-field class="medium-width" *ngIf="otros_ht.value">
                <textarea matInput formControlName="observacion_otros" placeholder="Observacion"></textarea>
                <mat-error *ngIf="observacion_otros_ht.hasError('maxlength')">campo muy extenso!</mat-error>
                <mat-error *ngIf="observacion_otros_ht.hasError('minlength')">introduzca una observación valida!</mat-error>
              </mat-form-field>
              </div>
              </form>

              <button mat-raised-button
                class="btn btn-outline-primary float-right botonperron"
                style="margin-top: 10px;"
                disabled={{formulario_habito_toxicologico_personal.invalid}}
                (click)="readonlyHabitosToxicologicos = !readonlyHabitosToxicologicos; actualizarHabitosToxicologicos()">
                {{!readonlyHabitosToxicologicos ? 'Guardar' : 'Editar'}}
              </button> 

            </div>

            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
              <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
        </mat-expansion-panel>















        <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)" hideToggle>
            <mat-expansion-panel-header>
            <mat-panel-title>
                Actividad Sexual y Reproductiva
            </mat-panel-title>
            <mat-panel-description>
                Visualiazar Actividad Sexual y Reproductiva del paciente
                <!-- <mat-icon>date_range</mat-icon> -->
            </mat-panel-description>
            </mat-expansion-panel-header>

            <div *ngIf="readonlyActividadSexual">

              <form [formGroup]="formulario_actividad_sexual">
                <div class="row">

                    <div class="col">
                        <mat-form-field class="example-full-width" >
                          <input matInput 
                          formControlName="actividad_sexual" 
                          placeholder="Actividad Sexual"
                          [readonly]= "readonlyActividadSexual"
                          >
                          <mat-error *ngIf="tiempo_hospitalizacion.hasError('maxlength')">campo muy extenso!</mat-error>
                          <mat-error *ngIf="tiempo_hospitalizacion.hasError('minlength')">introduzca una observación valida!</mat-error>
                        </mat-form-field>

                        <mat-form-field class="example-full-width">
                            <input matInput 
                            formControlName="numero_parejas_sexuales" 
                            placeholder="Numero de parejas sexuales"
                            [readonly]= "readonlyActividadSexual">
                            <mat-error *ngIf="tiempo_hospitalizacion.hasError('maxlength')">campo muy extenso!</mat-error>
                            <mat-error *ngIf="tiempo_hospitalizacion.hasError('minlength')">introduzca una observación valida!</mat-error>
                          </mat-form-field>
                    </div>

                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <input matInput 
                        formControlName="edad_inicio_sexual" 
                        placeholder="Edad inicio sexual"
                        [readonly]= "readonlyActividadSexual">
                        <mat-error *ngIf="tiempo_hospitalizacion.hasError('maxlength')">campo muy extenso!</mat-error>
                        <mat-error *ngIf="tiempo_hospitalizacion.hasError('minlength')">introduzca una observación valida!</mat-error>
                      </mat-form-field>

                      <mat-form-field class="example-full-width" >
                          <input matInput 
                          formControlName="practicas_sexuales_riesgo" 
                          placeholder="Practicas sexuales de riesgo"
                          [readonly]= "readonlyActividadSexual">
                          <mat-error *ngIf="tiempo_hospitalizacion.hasError('maxlength')">campo muy extenso!</mat-error>
                          <mat-error *ngIf="tiempo_hospitalizacion.hasError('minlength')">introduzca una observación valida!</mat-error>
                        </mat-form-field>
                    
                    </div>
                  
                  </div>
                </form>
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  (click)="readonlyActividadSexual = !readonlyActividadSexual">
                  {{!readonlyActividadSexual ? 'Guardar' : 'Editar'}}
                </button> 
              </div>
              

            <div *ngIf="!readonlyActividadSexual">
              <form [formGroup]="formulario_actividad_sexual">
                <label id="example-radio-group-label">Actividad Sexual</label>
                    <mat-error style="margin-inline-start: 5px;" *ngIf="actividad_sexuall.hasError('required')">campo requerido!</mat-error>
                <div class="row">
                  <mat-radio-group formControlName="actividad_sexual" aria-labelledby="example-radio-group-label" class="example-radio-group">        
                    <mat-radio-button value="Si" (click)="habilitarInputs([edad_inicio_sexual, numero_parejas_sexuales, practicas_sexuales_riesgo])">
                      Si
                    </mat-radio-button> &nbsp;   
                    <mat-radio-button value="No" (click)="borrarInputs([edad_inicio_sexual, numero_parejas_sexuales, practicas_sexuales_riesgo])">
                      No
                    </mat-radio-button>
                  </mat-radio-group>
                  
                  &nbsp; &nbsp; &nbsp; &nbsp; 
                   
                  <mat-form-field class="sexual">
                    <input matInput formControlName="edad_inicio_sexual" type= "number" 
                    placeholder="Edad inicio vida sexual" >
                    <mat-error *ngIf="edad_inicio_sexual.hasError('max')">edad invalida!</mat-error>
                  </mat-form-field>

                  &nbsp; &nbsp; &nbsp; &nbsp; 
                  <mat-form-field class="sexual">
                    <input matInput formControlName="numero_parejas_sexuales" type= "number" 
                    placeholder="Numero de parejas sexuales" >
                    <mat-error *ngIf="numero_parejas_sexuales.hasError('max')">muy extenso</mat-error>
                  </mat-form-field>

                  &nbsp; &nbsp; &nbsp; &nbsp; 

                  <mat-form-field class="sexual">
                    <mat-label>Practica sexual de riesgo</mat-label>
                    <mat-select formControlName="practicas_sexuales_riesgo">
                      <mat-option *ngFor="let practica_sexual of practicas_sexuales" [value]="practica_sexual.value">
                        {{practica_sexual.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </form>
              
              <button mat-raised-button
                class="btn btn-outline-primary float-right botonperron"
                style="margin-top: 10px;"
                (click)="readonlyActividadSexual = !readonlyActividadSexual; actualizarActividadSexual()"
                disabled={{formulario_actividad_sexual.invalid}}>
                {{!readonlyActividadSexual ? 'Guardar' : 'Editar'}}
              </button> 
            </div>

        
            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
              <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
        </mat-expansion-panel>
          
    















        <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)" hideToggle *ngIf="mostrarAntecedenteGinecologico == true">
            <mat-expansion-panel-header>
            <mat-panel-title>
                Antecedentes Ginecológicos
            </mat-panel-title>
            <mat-panel-description>
                Visualiazar Antecedentes Ginecológicos del paciente
                <!-- <mat-icon>date_range</mat-icon> -->
            </mat-panel-description>
            </mat-expansion-panel-header>


            <div *ngIf="readonlyAntecedentesGinecologicos">
              <form [formGroup]="formulario_antecedente_ginecologico">
                <div class="row">

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="edad_inicio_menstruacion" type= "number" placeholder="Edad inicio menstruacion">
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('max')">edad incorrecta</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('min')">edad incorrecta</mat-error>
                    </mat-form-field>
                  </div>
  
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="fum" placeholder="Fecha ultima menstruación">
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('max')">edad incorrecta</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('min')">edad incorrecta</mat-error>
                    </mat-form-field>                
                  </div>
                </div>  
                  
    
                <mat-divider></mat-divider>
  
  
                <div class="row">
  
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="citologia" placeholder="Citologías">
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('max')">edad incorrecta</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('min')">edad incorrecta</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName="fecha_citologia" 
                      placeholder="Fecha Citología" 
                      readonly="readonly" 
                      >
                    </mat-form-field>
                  </div>

                  <mat-form-field class="example-full-width" style="padding-left: 25px; width: 91%;">
                      <textarea matInput 
                      formControlName="resultado_citologia" 
                      placeholder="Resultado Citología" 
                      [readonly]="read17" 
                      ></textarea>
                    </mat-form-field>
                  
                </div>

                <mat-divider></mat-divider>
        
                <label style="padding-left: 40px;">Ciclo menstrual</label>
                <div class="row">

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="duracion_ciclo_menstrual" placeholder="Duración ciclo menstrual">
                      
                    </mat-form-field>
                  </div>

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="periocidad_ciclo_menstrual" placeholder="Periocidad ciclo menstrual">
                    </mat-form-field>
                  </div>

                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="caracteristicas_ciclo_menstrual" placeholder="Periocidad ciclo menstrual">
                    </mat-form-field>
                  </div>
                 </div>   
              </form>
              <button mat-raised-button
                class="btn btn-outline-primary float-right botonperron"
                style="margin-top: 10px;"
                (click)="readonlyAntecedentesGinecologicos = !readonlyAntecedentesGinecologicos; culitoPelado()">
                {{!readonlyAntecedentesGinecologicos ? 'Guardar' : 'Editar'}}
              </button> 
            </div>



            <div *ngIf="!readonlyAntecedentesGinecologicos">
              <form [formGroup]="formulario_antecedente_ginecologico">
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="edad_inicio_menstruacion" name="edad_inicio_menstruacion" type= "number" placeholder="Edad inicio menstruacion">
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('required')">campo requerido!</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('max')">edad incorrecta</mat-error>
                      <mat-error *ngIf="edad_inicio_menstruacion.hasError('min')">edad incorrecta</mat-error>
                    </mat-form-field>
        
                  </div>
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="fum" readonly="readonly" [min]="minDate" [max]="maxDate"
                      [matDatepicker]="picker3"
                      placeholder="Fecha ultima menstruación">
                      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                      <mat-datepicker #picker3></mat-datepicker>
                      <mat-error *ngIf="fum.hasError('required')">campo requerido!</mat-error>
                    </mat-form-field>
                  </div>
                </div>    
        
                <mat-divider></mat-divider>
        
                <div class="row">
                  <div class="col" >
                    <label id="example-radio-group-label">Citologías</label>
                    <mat-error style="margin-inline-start: 5px;" *ngIf="citologia.hasError('required')">campo requerido!</mat-error>
                      <mat-radio-group formControlName="citologia" 
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group">        
                        <mat-radio-button value="Si" (click)="habilitarInputs([fecha_citologia, resultado_citologia])">
                          Si
                        </mat-radio-button> &nbsp;   
                        <mat-radio-button value="No" (click)="borrarInputs([fecha_citologia, resultado_citologia])">
                          No
                        </mat-radio-button>
        
                      </mat-radio-group>  
                  </div>
        
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput 
                      formControlName="fecha_citologia" 
                      [min]="minDate" 
                      [max]="maxDate" 
                      [matDatepicker]="picker4" 
                      placeholder="Fecha Citología" 
                      readonly="readonly" 
                      >
                      <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                      <mat-datepicker #picker4></mat-datepicker>
                    </mat-form-field>
                  </div>

                  <mat-form-field class="example-full-width" style="padding-left: 20px; width: 91%;">
                    <textarea matInput 
                    formControlName="resultado_citologia" 
                    placeholder="Resultado Citología"  
                    ></textarea>
                  </mat-form-field>
                </div>
        
                <mat-divider></mat-divider>
        
        
               
                    

                <label style="padding-left: 40px;">Ciclo menstrual</label>
                <div class="row">
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <input matInput formControlName="duracion_ciclo_menstrual" placeholder="Duración ciclo menstrual">
                      <mat-error *ngIf="duracion_ciclo_menstrual.hasError('required')">campo requerido!</mat-error>
                      
                    </mat-form-field>
                  </div>
                  <div class="col">
                    <mat-form-field class="example-full-width">
                      <mat-label>Periodicidad ciclo menstrual</mat-label>
                      <mat-select formControlName="periocidad_ciclo_menstrual" name="periocidad_ciclo_menstrual">
                        <mat-option *ngFor="let periocidad of periocidades" [value]="periocidad.value">
                          {{periocidad.viewValue}}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="periocidad_ciclo_menstrual.hasError('required')">campo requerido!</mat-error>
        
                    </mat-form-field>
                  </div>
                </div>
        
                <div class="row" style="padding-left: 25px;">
                  <mat-form-field class="example-full-width" style="width: 91%;">
                    <mat-label>Características ciclo menstrual</mat-label>
                    <mat-select formControlName="caracteristicas_ciclo_menstrual"  name="Características ciclo menstrual">
                      <mat-option *ngFor="let caracteristica of caracteristicas" [value]="caracteristica.value">
                        {{caracteristica.viewValue}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="caracteristicas_ciclo_menstrual.hasError('required')">campo requerido!</mat-error>
        
                  </mat-form-field>
                </div>
              </form>

              <button mat-raised-button
                class="btn btn-outline-primary float-right botonperron"
                style="margin-top: 10px;"
                disabled={{formulario_antecedente_ginecologico.invalid}}
                (click)="readonlyAntecedentesGinecologicos = !readonlyAntecedentesGinecologicos;
                actualizarAntecedentesGinecologicos()">
                {{!readonlyAntecedentesGinecologicos ? 'Guardar' : 'Editar'}}
              </button> 
            </div>

        
            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
              <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
        </mat-expansion-panel>














        <mat-expansion-panel 
        [expanded]="step === 6" 
        (opened)="setStep(6)" 
        hideToggle 
        *ngIf="mostrarAntecedenteObstetrico == true">
            <mat-expansion-panel-header>
            <mat-panel-title>
                Antecedentes Obstétricos
            </mat-panel-title>
            <mat-panel-description>
                Visualiazar Antecedentes Obstétricos del paciente
                <!-- <mat-icon>date_range</mat-icon> -->
            </mat-panel-description>
            </mat-expansion-panel-header>


            <div>
              <form [formGroup]="formulario_antecedente_obstetrico">
                <div class="row">

                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <input matInput 
                        formControlName= "partos" 
                        type= "number" 
                        placeholder="Numero de partos"
                        [readonly]="readonlyAntecedentesObstetricos">
                        <mat-error *ngIf="partos.hasError('max')">invalido</mat-error>
                        <mat-error *ngIf="partos.hasError('min')">invalido</mat-error>
                      </mat-form-field>
                    </div>

                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <input matInput 
                        formControlName= "abortos" 
                        type= "number" 
                        placeholder="Numero de abortos"
                        [readonly]= "readonlyAntecedentesObstetricos">
                        <mat-error *ngIf="abortos.hasError('max')">invalido</mat-error>
                        <mat-error *ngIf="abortos.hasError('min')">invalido</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
          
                  <div class="row">

                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <input matInput 
                        formControlName= "cesarias" 
                        type= "number" 
                        placeholder="Numero de cesarias"
                        [readonly]= "readonlyAntecedentesObstetricos">
                        <mat-error *ngIf="cesarias.hasError('max')">invalido</mat-error>
                        <mat-error *ngIf="cesarias.hasError('min')">invalido</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <input matInput 
                        formControlName= "hijos_vivos" 
                        type= "number" 
                        placeholder="Numero de hijos vivos"
                        [readonly]="readonlyAntecedentesObstetricos">
                        <mat-error *ngIf="hijos_vivos.hasError('max')">invalido</mat-error>
                        <mat-error *ngIf="hijos_vivos.hasError('min')">invalido</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
          
                  
                  <div class="row">

                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <input matInput 
                        formControlName= "hijos_muertos" 
                        type= "number" 
                        placeholder="Numero de hijos muertos"
                        [readonly]= "readonlyAntecedentesObstetricos">
                        <mat-error *ngIf="hijos_muertos.hasError('max')">invalido</mat-error>
                        <mat-error *ngIf="hijos_muertos.hasError('min')">invalido</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col">

                      <mat-form-field class="example-full-width" *ngIf="readonlyAntecedentesObstetricos">
                        <input matInput 
                        formControlName= "fecha_termino_ult_embarazo" 
                        placeholder="Fecha termino ultimo embarazo"
                        [readonly]= "readonlyAntecedentesObstetricos">
                        <mat-error *ngIf="hijos_muertos.hasError('max')">invalido</mat-error>
                        <mat-error *ngIf="hijos_muertos.hasError('min')">invalido</mat-error>
                      </mat-form-field>

                      <mat-form-field class="example-full-width" *ngIf="!readonlyAntecedentesObstetricos">
                        <input matInput 
                        formControlName= "fecha_termino_ult_embarazo" 
                        [min]="minDate" 
                        [max]="maxDate" 
                        [matDatepicker]="picker5" 
                        placeholder="Fecha ultimo embarazo" 
                        readonly="readonly"> 
                        <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                        <mat-datepicker #picker5></mat-datepicker>
                      </mat-form-field>            
                    </div>
                  </div>
          
                  <div class="row">
                    
                    <div class="col">

                      <mat-form-field class="example-full-width" *ngIf="readonlyAntecedentesObstetricos">
                        <input matInput 
                        formControlName= "descripcion_termino_ult_embarazo" 
                        placeholder="Resultado ultimo embarazo"
                        [readonly]= "readonlyAntecedentesObstetricos">
                      </mat-form-field>
                        
                      <mat-form-field class="example-full-width" *ngIf="!readonlyAntecedentesObstetricos"> 
                        <mat-label>Resultado ultimo embarazo</mat-label>
                        <mat-select formControlName= "descripcion_termino_ult_embarazo" name="descripcion_termino_ult_embarazo">
                          <mat-option *ngFor="let resultado_embarazo of resultados_embarazos" [value]="resultado_embarazo.value">
                            {{resultado_embarazo.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
          
                    <div class="col">
                      <mat-form-field class="example-full-width">
                        <textarea matInput
                        formControlName= "observaciones"   
                        placeholder="Observaciones"
                        [readonly]= "readonlyAntecedentesObstetricos">
                        </textarea>
                        <mat-error *ngIf="observaciones.hasError('maxlength')">campo muy extenso!</mat-error>
                        <mat-error *ngIf="observaciones.hasError('minlength')">introduzca una observación valida!</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
              </form>
              <button mat-raised-button
                class="btn btn-outline-primary float-right botonperron"
                style="margin-top: 10px;"
                disabled={{formulario_antecedente_obstetrico.invalid}}
                (click)="readonlyAntecedentesObstetricos = !readonlyAntecedentesObstetricos; actualizarAntecedentesObstetricos()">
                {{!readonlyAntecedentesObstetricos ? 'Guardar' : 'Editar'}}
              </button> 
            </div> 
        
            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
              <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        
        
        
        












          <mat-expansion-panel [expanded]="step === 7" (opened)="setStep(7)" hideToggle>
              <mat-expansion-panel-header>
              <mat-panel-title>
                  Planificación Familiar
              </mat-panel-title>
              <mat-panel-description>
                  Visualiazar Planificacion Familiar del paciente
                  <!-- <mat-icon>date_range</mat-icon> -->
              </mat-panel-description>
              </mat-expansion-panel-header>
  
              <div *ngIf="readonlyPlanificacionFamiliar">
                <form [formGroup]="formulario_planificacion_familiar">
                  <div class="row">
                   
                    <div class="col">
                        <mat-form-field class="example-full-width">
                            <input matInput
                            formControlName= "planificacion_familiar"   
                            placeholder="Planificación familiar"
                            [readonly]= "readonlyPlanificacionFamiliar"
                            >
                        
                          </mat-form-field>
                    </div>

                    <div class="col">
                        <mat-form-field class="example-full-width">
                          <input matInput
                          formControlName= "metodo_planificacion"   
                          placeholder="Método de planificación"
                          [readonly]= "readonlyPlanificacionFamiliar"
                          >
                      
                        </mat-form-field>
                    </div>

                    <div class="col">
                        <mat-form-field class="example-full-width">
                          <textarea matInput
                          formControlName= "observacion_planificacion"   
                          placeholder="Observación"
                          [readonly]= "readonlyPlanificacionFamiliar">
                        </textarea>
                      
                        </mat-form-field>
                    </div>
                  </div>
                </form>
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  (click)="readonlyPlanificacionFamiliar = !readonlyPlanificacionFamiliar;">
                  {{!readonlyPlanificacionFamiliar ? 'Guardar' : 'Editar'}}
                </button> 
              </div>


              <div *ngIf="!readonlyPlanificacionFamiliar">
                <form [formGroup]="formulario_planificacion_familiar">
                    <mat-error style="margin-inline-start: 5px;" *ngIf="planificacion_familiarr.hasError('required')">campo requerido!</mat-error>
                    <div>  
                      <p><mat-radio-group formControlName="planificacion_familiar" 
                        aria-labelledby="example-radio-group-label"
                        class="example-radio-group">        
                        <mat-radio-button value="Si" (click)="habilitarInputs([metodo_planificacion, observacion_planificacion])">
                          Si
                        </mat-radio-button> &nbsp;   
                        <mat-radio-button value="No" (click)="borrarInputs([metodo_planificacion, observacion_planificacion]);">
                          No
                        </mat-radio-button>
            
                      </mat-radio-group></p> 
                    </div>
            
                    <div>
                      <mat-form-field>
                        <mat-label>Método de planificación</mat-label>
                        <mat-select  formControlName="metodo_planificacion">
                          <mat-option *ngFor="let metodo of metodos" [value]="metodo.value">
                            {{metodo.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <mat-form-field class="medium-width">
                      <textarea matInput formControlName="observacion_planificacion"
                      placeholder="Observación"></textarea>
                      <mat-error *ngIf="observacion_planificacion.hasError('maxlength')">campo muy extenso!</mat-error>
                      <mat-error *ngIf="observacion_planificacion.hasError('minlength')">introduzca una observación valida!</mat-error>
                    </mat-form-field>
                </form>
                <button mat-raised-button
                  class="btn btn-outline-primary float-right botonperron"
                  style="margin-top: 10px;"
                  disabled={{formulario_planificacion_familiar.invalid}}
                  (click)="readonlyPlanificacionFamiliar = !readonlyPlanificacionFamiliar; culitoPelado()">
                  {{!readonlyPlanificacionFamiliar ? 'Guardar' : 'Editar'}}
                </button> 
              </div>

              <mat-action-row>
                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                <button mat-button color="primary" (click)="nextStep()">Next</button>
              </mat-action-row>
            </mat-expansion-panel>
        
    </mat-accordion>
</div>    
